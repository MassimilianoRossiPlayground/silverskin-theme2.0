{% assign inside_head = "" %}
{% assign post_open_body = "" %}
{% assign after_body_close = "" %}

{% for block in section.blocks %}

  {% case block.type %}
    {% when 'inside_head' %}
      {% assign inside_head = inside_head | append: block.script %}
    {% when 'post_open_body' %}
      {% assign post_open_body = post_open_body | append: block.script %}
    {% when 'after_body_close' %}
      {% assign after_body_close = after_body_close | append: block.script %}
  {% endcase %}

{% endfor %}

{% case print_position %}
  {% when 'inside_head' %}
    {{ inside_head }}
  {% when 'post_open_body' %}
    {{ post_open_body }}
  {% when 'after_body_close' %}
    {{ after_body_close }}
{% endcase %}

{% schema %}
  {
    "name": "Scripts",
    "blocks": [
      {
        "type": "inside_head",
        "name": "Script inside Head",
        "settings": [
          {
            "type": "textarea",
            "id": "script",
            "label": "Testo completo di tag <script>"
          }
        ]
      },
      {
        "type": "post_open_body",
        "name": "Script Post Body open",
        "settings": [
          {
            "type": "textarea",
            "id": "script",
            "label": "Testo completo di tag <script>"
          }
        ]
      },
      {
        "type": "after_body_close",
        "name": "Script After Body close",
        "settings": [
          {
            "type": "textarea",
            "id": "script",
            "label": "Testo completo di tag <script>"
          }
        ]
      }
    ]
  }
{% endschema %}
