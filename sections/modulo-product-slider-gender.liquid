<div class="section-product-slider-gender">
  <div class="product-slider-gender">

    <h2 class="no-desk">{{ section.settings.title }}</h2>

    <div class="product-slider-gender__head">

        <div class="product-slider-gender__head__btn js-btn-man">
            <img src="{{ section.settings.image_man | img_url: 'master' }}" alt="silverskin man">
            <h5>{{ section.settings.button_man }}</h5>
        </div>

        <h2 class="no-mob">{{ section.settings.title }}</h2>

        <div class="product-slider-gender__head__btn js-btn-woman disabled">
            <h5>{{ section.settings.button_woman }}</h5>
            <img src="{{ section.settings.image_woman | img_url: 'master' }}" alt="silverskin woman">
        </div>

    </div>

    <div class="product-slider-gender__slider">

        <div class="slider-gender-man">
            <div class="swiper-container">
                <div class="swiper-wrapper">
                    {% for product_block in section.blocks %}

                        {% assign p_id_man = product_block.settings.product_id_man %}
                        {% assign p_id_woman = product_block.settings.product_id_woman %}
                        
                        <div class="swiper-slide">
                            <img src="{{  all_products[p_id_man].featured_image | img_url: '1024x' }}" alt="best seller silverskin">
                            <h4>{{ all_products[p_id_man].title }}</h4>    
                            <h4 class="best-sellers-description">{{ all_products[p_id_man].metafields.descriptors.subtitle }}</h4>
                            <div class="product-slider-gender-cta">
                                <a class="product-slider-gender-cta__link" 
                                    attr-title="{{ all_products[p_id_man].title }}" 
                                    attr-price="{{ all_products[p_id_man].price | money | remove: '€ ' | replace: ',' , '.'  }}" 
                                    attr-handle="{{ all_products[p_id_man].handle }}" 
                                    attr-type="{{ all_products[p_id_man].type }}" 
                                    href="{{ all_products[p_id_man].url }}">{{ section.settings.cta_text_man }}</a>
                            
                                <a class="product-slider-gender-cta__link" 
                                    attr-title="{{ all_products[p_id_woman].title }}" 
                                    attr-price="{{ all_products[p_id_woman].price | money | remove: '€ ' | replace: ',' , '.'  }}" 
                                    attr-handle="{{ all_products[p_id_woman].handle }}" 
                                    attr-type="{{ all_products[p_id_woman].type }}" 
                                    href="{{ all_products[p_id_woman].url }}">{{ section.settings.cta_text_woman }}</a>
                            </div>
                        </div>
                    {% endfor %}

                </div>
            </div>
            <div class="swiper-button-next"><i class="fas fa-angle-right"></i></div>
            <div class="swiper-button-prev"><i class="fas fa-angle-left"></i></div>
        </div>

        <div class="slider-gender-woman">
            <div class="swiper-container">
                <div class="swiper-wrapper">
                    {% for product_block in section.blocks %}

                        {% assign p_id_man = product_block.settings.product_id_man %}
                        {% assign p_id_woman = product_block.settings.product_id_woman %}
                        
                        <div class="swiper-slide">
                            <img src="{{  all_products[p_id_woman].featured_image | img_url: '1024x' }}" alt="best seller silverskin">
                            <h4>{{ all_products[p_id_woman].title }}</h4>    
                            <h4 class="best-sellers-description">{{ all_products[p_id_woman].metafields.descriptors.subtitle }}</h4>
                            <div class="product-slider-gender-cta">
                                <a class="product-slider-gender-cta__link" 
                                    attr-title="{{ all_products[p_id_man].title }}" 
                                    attr-price="{{ all_products[p_id_man].price | money | remove: '€ ' | replace: ',' , '.'  }}" 
                                    attr-handle="{{ all_products[p_id_man].handle }}" 
                                    attr-type="{{ all_products[p_id_man].type }}" 
                                    href="{{ all_products[p_id_man].url }}">{{ section.settings.cta_text_man }}</a>
                            
                                <a class="product-slider-gender-cta__link" 
                                    attr-title="{{ all_products[p_id_woman].title }}" 
                                    attr-price="{{ all_products[p_id_woman].price | money | remove: '€ ' | replace: ',' , '.'  }}" 
                                    attr-handle="{{ all_products[p_id_woman].handle }}" 
                                    attr-type="{{ all_products[p_id_woman].type }}" 
                                    href="{{ all_products[p_id_woman].url }}">{{ section.settings.cta_text_woman }}</a>
                            </div>
                        </div>
                    {% endfor %}

                </div>
            </div>
            <div class="swiper-button-next"><i class="fas fa-angle-right"></i></div>
            <div class="swiper-button-prev"><i class="fas fa-angle-left"></i></div>
        </div>

    </div>

  </div>
</div>

{% schema %}
  {
    "name": "Product Slider Gender",
    "max_blocks": 99,
    "settings": [
        {
            "type": "text",
            "id": "title",
            "label": "Title",
            "default": "SCOPRI I NOSTRI BEST SELLER"
        },
        {
            "type": "image_picker",
            "id": "image_man",
            "label": "Image man"
        },
        {
            "type": "text",
            "id": "button_man",
            "label": "Button Man",
            "default": "UOMO"
        },
        {
            "type": "image_picker",
            "id": "image_woman",
            "label": "Image Woman"
        },
        {
            "type": "text",
            "id": "button_woman",
            "label": "Button Woman",
            "default": "DONNA"
        },
        {
            "type": "text",
            "id": "cta_text_man",
            "label": "CTA Man",
            "default": "ACQUISTA UOMO"
        },
        {
            "type": "text",
            "id": "cta_text_woman",
            "label": "CTA Woman",
            "default": "ACQUISTA DONNA"
        }
    ],
    "blocks": [
      {
        "type": "product_block",
        "name": "Products",
        "settings": [
            {
                "type": "product",
                "id": "product_id_man",
                "label": "Product Man"
            },
            {
                "type": "product",
                "id": "product_id_woman",
                "label": "Product Woman"
            }
        ]
      }
    ],
    "presets": [
        {
            "name": "Product Slider Gender",
            "blocks": [
                {
                    "type": "product_block"
                }
            ]
        }
    ]
  }
{% endschema %}


{% style %}
.section-product-slider-gender {
    margin: 60px 0;
    background: #000;
    background-image: url("https://cdn.shopify.com/s/files/1/0696/3979/9097/files/Union.png?v=1686134410");
    background-repeat: no-repeat;
    background-position: center center;
    background-size: inherit;
}
.product-slider-gender {
    max-width: 1440px;
    margin: 0 auto;
}
.product-slider-gender__head {
    display: flex;
    justify-content: space-around;
    align-items: center;
}
.section-product-slider-gender h2 {
    color: #fff;
}
.section-product-slider-gender h4 {
    margin: 50px 0;
    font-family: "barlow-medium";
    color: #fff;
}
.product-slider-gender__head__btn {
    display: flex;
    align-items: center;
    color: #fff;
    margin-top: 100px;
    cursor: pointer;
}
.product-slider-gender__head__btn.disabled {
    filter: contrast(0.5);
}
.product-slider-gender__head__btn h5 {
    margin: 20px;
}
.product-slider-gender__slider {
    position: relative;
}
.product-slider-gender__slider h4,
.product-slider-gender__slider .best-sellers-description,
.product-slider-gender__slider .product-slider-gender-cta {
    display: none; 
}
.product-slider-gender__slider .swiper-slide-next h4,
.product-slider-gender__slider .swiper-slide-next .best-sellers-description,
.product-slider-gender__slider .swiper-slide-next .product-slider-gender-cta {
    display: block; 
}
.section-product-slider-gender .swiper-slide.swiper-slide-next .product-slider-gender-cta,
.section-product-slider-gender .swiper-slide.swiper-slide-next h4 {
    display: flex;
    justify-content: center;
}

.section-product-slider-gender .product-slider-gender-cta a {
    color: #fff;
    border: 1px solid #797979;
    min-width: 240px;
    font-size: 14px;
    text-align: center;
    padding: 10px;
    margin: 40px 10px;
}

.section-product-slider-gender .swiper-slide img {
    height: 380px;
    transform: translateY(38px) scale(0.8);
    transition-duration: 0.3s;
    margin: 0 auto;
    text-align: center;
    display: block;
}
.product-slider-gender__slider .slider-gender-man,
.product-slider-gender__slider .slider-gender-woman {
    max-width: 1000px;
    margin: 0 auto;
}

.section-product-slider-gender .swiper-slide.swiper-slide-next img {
    height: unset;
    transform: translateY(1px);
    transition-duration: 0.3s;
    filter: blur(0);
    -webkit-filter: blur(0);
}

.section-product-slider-gender .fas.fa-angle-right,
.section-product-slider-gender .fas.fa-angle-left {
    font-size: 30px;
}
.section-product-slider-gender .swiper-slide img {
    max-height: 380px;
    height: auto;
    /* transform: translateY(10px); */
}

.section-product-slider-gender div.swiper-button-next, 
.section-product-slider-gender div.swiper-button-prev {
    z-index: 10;
    width: 100px;
    height: 100px;
    background-color: #000;
    color: #fff;
    font-size: 16px;
    border: 1px solid #fff;
    top: 30%;
}
.no-desk {
    display: none;
}
@media screen and (min-width: 769px) and (max-width: 1190px) {

    .section-product-slider-gender .swiper-slide img {
        height: auto;
    }
}

@media screen and (max-width: 991px) {

    .section-product-slider-gender .swiper-slide img {
        filter: unset;
        -webkit-filter: unset;
        transform: unset;
    }

    .section-product-slider-gender .swiper-slide .product-slider-gender-cta,
    .section-product-slider-gender .swiper-slide h4 {
        display: flex;
        justify-content: center;
    }
    .section-product-slider-gender .swiper-slide h4 {
        margin-top: 10px;
        margin-bottom: 10px;
    }

}

@media screen and (max-width: 768px) {

    .no-desk {
        display: block;
    }
    .no-mob {
        display: none;
    }

    .section-product-slider-gender h2 {
        text-align: center;
        padding: 50px 0;
    }
    .product-slider-gender__head__btn {
        margin: 0 0 50px 0;
    }
    .section-product-slider-gender .product-slider-gender-cta a {
        min-width: 190px;
    }
    .section-product-slider-gender .swiper-slide img {
        max-height: 260px;
    }
    .section-product-slider-gender .technology-slider {
        margin: 30px 0;
    }

    .section-product-slider-gender .swiper-slide .product-slider-gender-cta,
    .section-product-slider-gender .swiper-slide h4 {
        max-width: 260px;
        margin: 15px auto;
    }
}
{% endstyle %}





{% javascript %}
(function(document) {

    let selectors = {
        btnMan: '.js-btn-man',
        btnWoman: '.js-btn-woman',
        sliderMan: '.slider-gender-man',
        sliderWoman: '.slider-gender-woman',
    };

    let btnMan = document.querySelector(selectors.btnMan)
    let btnWoman = document.querySelector(selectors.btnWoman)
    let sliderMan = document.querySelector(selectors.sliderMan)
    let sliderWoman = document.querySelector(selectors.sliderWoman)

    window.addEventListener('load', function() {

        if (sliderMan) {
            let sliderMan_swiper = new Swiper(sliderMan.querySelector(".swiper-container"), {
                slidesPerView: 3,
                spaceBetween: 30,
                loop: true,
                navigation: {
                    nextEl: sliderMan.querySelector(".swiper-button-next"),
                    prevEl: sliderMan.querySelector(".swiper-button-prev"),
                },
                breakpoints: {
                    // when window width is >= 320px
                    320: {
                    slidesPerView: 1,
                    spaceBetween: 20
                    },
                    // when window width is >= 640px
                    991: {
                    slidesPerView: 3,
                    spaceBetween: 30
                    }
                }
            });
        }
        if (sliderWoman) {
            let sliderWoman_swiper = new Swiper(sliderWoman.querySelector(".swiper-container"), {
                slidesPerView: 3,
                spaceBetween: 30,
                loop: true,
                navigation: {
                    nextEl: sliderWoman.querySelector(".swiper-button-next"),
                    prevEl: sliderWoman.querySelector(".swiper-button-prev"),
                },
                breakpoints: {
                    // when window width is >= 320px
                    320: {
                    slidesPerView: 1,
                    spaceBetween: 20
                    },
                    // when window width is >= 640px
                    991: {
                    slidesPerView: 3,
                    spaceBetween: 30
                    }
                }
            });
            sliderWoman.classList.add("hide")
        }

            
        btnMan.addEventListener("click", function(){
                
            sliderWoman.classList.add("hide")
            sliderMan.classList.remove("hide")

            btnMan.classList.remove("disabled")
            btnWoman.classList.add("disabled")

            sliderMan_swiper.reInit()
        })

        btnWoman.addEventListener("click", function(){
            
            sliderMan.classList.add("hide")
            sliderWoman.classList.remove("hide")

            btnMan.classList.add("disabled")
            btnWoman.classList.remove("disabled")

            sliderWoman_swiper.reInit()
        })

        
    });


})(document);

{% endjavascript %}